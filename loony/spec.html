<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>loony/spec</title>

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- CSS -->
<link rel="stylesheet" type="text/css" href="../nimdoc.out.css?v=2.0.9">

<!-- JS -->
<script type="text/javascript" src="../dochack.js?v=2.0.9"></script>
</head>
<body>
  <div class="document" id="documentId">
    <div class="container">
      <h1 class="title">loony/spec</h1>
      <div class="row">
  <div class="three columns">
    <div class="theme-select-wrapper">
      <label for="theme-select">Theme:&nbsp;</label>
      <select id="theme-select" onchange="setTheme(this.value)">
        <option value="auto">ðŸŒ— Match OS</option>
        <option value="dark">ðŸŒ‘ Dark</option>
        <option value="light">ðŸŒ• Light</option>
      </select>
    </div>
    <div id="global-links">
      <ul class="simple">
        <li><a id="indexLink" href="../theindex.html">Index</a></li>
      </ul>
    </div>
    <div id="searchInputDiv">
      Search: <input type="search" id="searchInput" onkeyup="search()"/>
    </div>
    <div>
      Group by:
      <select onchange="groupBy(this.value)">
        <option value="section">Section</option>
        <option value="type">Type</option>
      </select>
    </div>
    <ul class="simple simple-toc" id="toc-list">
  <li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#7" id="57">Types</a></summary>
    <ul class="simple simple-toc-section">
      <li><a class="reference" href="#ControlBlock" title="ControlBlock = object
  headMask*: Atomic[ControlMask] ## high uint16, final observed count of slow-path dequeue ops,
                                 ## low uint16: current count
  tailMask*: Atomic[ControlMask] ## Bitmask for storing current reclamation status
                                 ## All 3 bits set = node can be reclaimed
  reclaim*: Atomic[uint8]">ControlBlock</a></li>
<li><a class="reference" href="#ControlMask" title="ControlMask = uint32">ControlMask</a></li>
<li><a class="reference" href="#NodePtr" title="NodePtr = uint">NodePtr</a></li>
<li><a class="reference" href="#TagPtr" title="TagPtr = uint">TagPtr</a></li>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#10" id="60">Consts</a></summary>
    <ul class="simple simple-toc-section">
      <li><a class="reference" href="#CONSUMED" title="CONSUMED = 6'u8">CONSUMED</a></li>
<li><a class="reference" href="#DEQ" title="DEQ = 2'u">DEQ</a></li>
<li><a class="reference" href="#ENQ" title="ENQ = 4'u">ENQ</a></li>
<li><a class="reference" href="#loonyIsolated" title="loonyIsolated {.booldefine.} = false">loonyIsolated</a></li>
<li><a class="reference" href="#loonyNodeAlignment" title="loonyNodeAlignment {.intdefine.} = 11">loonyNodeAlignment</a></li>
<li><a class="reference" href="#loonyRotate" title="loonyRotate {.booldefine.} = true">loonyRotate</a></li>
<li><a class="reference" href="#loonySlotCount" title="loonySlotCount {.intdefine.} = 1024">loonySlotCount</a></li>
<li><a class="reference" href="#lShiftBits" title="lShiftBits = 6">lShiftBits</a></li>
<li><a class="reference" href="#MASK" title="MASK = 0x0000FFFF">MASK</a></li>
<li><a class="reference" href="#N" title="N = 1024">N</a></li>
<li><a class="reference" href="#NODEALIGN" title="NODEALIGN: uint = 2048">NODEALIGN</a></li>
<li><a class="reference" href="#PTRMASK" title="PTRMASK: uint = 18446744073709549568'u">PTRMASK</a></li>
<li><a class="reference" href="#READER" title="READER = 4'u">READER</a></li>
<li><a class="reference" href="#RESUME" title="RESUME = 1'u">RESUME</a></li>
<li><a class="reference" href="#rShiftBits" title="rShiftBits = 4">rShiftBits</a></li>
<li><a class="reference" href="#SHIFT" title="SHIFT = 16">SHIFT</a></li>
<li><a class="reference" href="#SLOT" title="SLOT = 1'u">SLOT</a></li>
<li><a class="reference" href="#SLOTMASK" title="SLOTMASK: uint = 18446744073709551608'u">SLOTMASK</a></li>
<li><a class="reference" href="#TAGBITS" title="TAGBITS: uint = 11">TAGBITS</a></li>
<li><a class="reference" href="#TAGMASK" title="TAGMASK: uint = 2047'u">TAGMASK</a></li>
<li><a class="reference" href="#UNINIT" title="UNINIT = 0'u">UNINIT</a></li>
<li><a class="reference" href="#WRITER" title="WRITER = 2'u">WRITER</a></li>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#12" id="62">Procs</a></summary>
    <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">fetchAddHead
  <li><a class="reference" href="#fetchAddHead%2CControlBlock%2Cuint32" title="fetchAddHead(ctrl: var ControlBlock; v: uint32 = 1): ControlMask">fetchAddHead(ctrl: var ControlBlock; v: uint32 = 1): ControlMask</a></li>

</ul>
<ul class="simple nested-toc-section">fetchAddReclaim
  <li><a class="reference" href="#fetchAddReclaim%2CControlBlock%2Cuint8" title="fetchAddReclaim(ctrl: var ControlBlock; v: uint8 = 1): uint8">fetchAddReclaim(ctrl: var ControlBlock; v: uint8 = 1): uint8</a></li>

</ul>
<ul class="simple nested-toc-section">fetchAddTail
  <li><a class="reference" href="#fetchAddTail%2CControlBlock%2Cuint32" title="fetchAddTail(ctrl: var ControlBlock; v: uint32 = 1): ControlMask">fetchAddTail(ctrl: var ControlBlock; v: uint32 = 1): ControlMask</a></li>

</ul>
<ul class="simple nested-toc-section">getHigh
  <li><a class="reference" href="#getHigh%2CControlMask" title="getHigh(mask: ControlMask): uint16">getHigh(mask: ControlMask): uint16</a></li>

</ul>
<ul class="simple nested-toc-section">getLow
  <li><a class="reference" href="#getLow%2CControlMask" title="getLow(mask: ControlMask): uint16">getLow(mask: ControlMask): uint16</a></li>

</ul>

    </ul>
  </details>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L1" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L1" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

    <div id="tocRoot"></div>
    
    <p class="module-desc"></p>
    <div class="section" id="7">
  <h1><a class="toc-backref" href="#7">Types</a></h1>
  <dl class="item">
    <div id="ControlBlock">
  <dt><pre><a href="spec.html#ControlBlock"><span class="Identifier">ControlBlock</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">headMask</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">Atomic</span><span class="Other">[</span><a href="spec.html#ControlMask"><span class="Identifier">ControlMask</span></a><span class="Other">]</span> <span class="Comment">## high uint16, final observed count of slow-path dequeue ops,</span>
                                 <span class="Comment">## low uint16: current count</span>
  <span class="Identifier">tailMask</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">Atomic</span><span class="Other">[</span><a href="spec.html#ControlMask"><span class="Identifier">ControlMask</span></a><span class="Other">]</span> <span class="Comment">## Bitmask for storing current reclamation status</span>
                                 <span class="Comment">## All 3 bits set = node can be reclaimed</span>
  <span class="Identifier">reclaim</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">Atomic</span><span class="Other">[</span><span class="Identifier">uint8</span><span class="Other">]</span></pre></dt>
  <dd>
    
    high uint16 final observed count of slow-path enqueue ops low uint16: current count
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L67" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L67" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="ControlMask">
  <dt><pre><a href="spec.html#ControlMask"><span class="Identifier">ControlMask</span></a> <span class="Other">=</span> <span class="Identifier">uint32</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L64" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L64" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="NodePtr">
  <dt><pre><a href="spec.html#NodePtr"><span class="Identifier">NodePtr</span></a> <span class="Other">=</span> <span class="Identifier">uint</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L60" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L60" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="TagPtr">
  <dt><pre><a href="spec.html#TagPtr"><span class="Identifier">TagPtr</span></a> <span class="Other">=</span> <span class="Identifier">uint</span></pre></dt>
  <dd>
    
    Aligned pointer with 12 bit prefix containing the tag. Access using procs nptr and idx
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L61" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L61" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

  </dl>
</div>
<div class="section" id="10">
  <h1><a class="toc-backref" href="#10">Consts</a></h1>
  <dl class="item">
    <div id="CONSUMED">
  <dt><pre><a href="spec.html#CONSUMED"><span class="Identifier">CONSUMED</span></a> <span class="Other">=</span> <span class="DecNumber">6'u8</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L41" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L41" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="DEQ">
  <dt><pre><a href="spec.html#DEQ"><span class="Identifier">DEQ</span></a> <span class="Other">=</span> <span class="DecNumber">2'u</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L44" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L44" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="ENQ">
  <dt><pre><a href="spec.html#ENQ"><span class="Identifier">ENQ</span></a> <span class="Other">=</span> <span class="DecNumber">4'u</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L45" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L45" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="loonyIsolated">
  <dt><pre><a href="spec.html#loonyIsolated"><span class="Identifier">loonyIsolated</span></a> {.<span class="Identifier">booldefine</span>.} <span class="Other">=</span> <span class="DecNumber">false</span></pre></dt>
  <dd>
    
    Indicate that loony should assert that all references passing through the queue have a single owner.  Note that in particular, child Continuations have cycles, which will trigger a failure of this assertion.
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L7" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L7" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="loonyNodeAlignment">
  <dt><pre><a href="spec.html#loonyNodeAlignment"><span class="Identifier">loonyNodeAlignment</span></a> {.<span class="Identifier">intdefine</span>.} <span class="Other">=</span> <span class="DecNumber">11</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L4" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L4" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="loonyRotate">
  <dt><pre><a href="spec.html#loonyRotate"><span class="Identifier">loonyRotate</span></a> {.<span class="Identifier">booldefine</span>.} <span class="Other">=</span> <span class="DecNumber">true</span></pre></dt>
  <dd>
    
    Indicate that loony should rotate the slots in the queue to avoid contention on the same cache line. This is useful when the queue is shared between multiple threads. Note that this will only work if the number of slots is a power of 2.
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L12" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L12" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="loonySlotCount">
  <dt><pre><a href="spec.html#loonySlotCount"><span class="Identifier">loonySlotCount</span></a> {.<span class="Identifier">intdefine</span>.} <span class="Other">=</span> <span class="DecNumber">1024</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L5" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L5" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="lShiftBits">
  <dt><pre><a href="spec.html#lShiftBits"><span class="Identifier">lShiftBits</span></a> <span class="Other">=</span> <span class="DecNumber">6</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L21" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L21" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="MASK">
  <dt><pre><a href="spec.html#MASK"><span class="Identifier">MASK</span></a> <span class="Other">=</span> <span class="DecNumber">0x0000FFFF</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L55" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L55" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="N">
  <dt><pre><a href="spec.html#N"><span class="Identifier">N</span></a> <span class="Other">=</span> <span class="DecNumber">1024</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L47" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L47" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="NODEALIGN">
  <dt><pre><a href="spec.html#NODEALIGN"><span class="Identifier">NODEALIGN</span></a><span class="Other">:</span> <span class="Identifier">uint</span> <span class="Other">=</span> <span class="DecNumber">2048</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L50" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L50" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="PTRMASK">
  <dt><pre><a href="spec.html#PTRMASK"><span class="Identifier">PTRMASK</span></a><span class="Other">:</span> <span class="Identifier">uint</span> <span class="Other">=</span> <span class="DecNumber">18446744073709549568'u</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L52" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L52" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="READER">
  <dt><pre><a href="spec.html#READER"><span class="Identifier">READER</span></a> <span class="Other">=</span> <span class="DecNumber">4'u</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L40" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L40" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="RESUME">
  <dt><pre><a href="spec.html#RESUME"><span class="Identifier">RESUME</span></a> <span class="Other">=</span> <span class="DecNumber">1'u</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L38" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L38" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="rShiftBits">
  <dt><pre><a href="spec.html#rShiftBits"><span class="Identifier">rShiftBits</span></a> <span class="Other">=</span> <span class="DecNumber">4</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L22" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L22" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="SHIFT">
  <dt><pre><a href="spec.html#SHIFT"><span class="Identifier">SHIFT</span></a> <span class="Other">=</span> <span class="DecNumber">16</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L54" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L54" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="SLOT">
  <dt><pre><a href="spec.html#SLOT"><span class="Identifier">SLOT</span></a> <span class="Other">=</span> <span class="DecNumber">1'u</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L43" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L43" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="SLOTMASK">
  <dt><pre><a href="spec.html#SLOTMASK"><span class="Identifier">SLOTMASK</span></a><span class="Other">:</span> <span class="Identifier">uint</span> <span class="Other">=</span> <span class="DecNumber">18446744073709551608'u</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L57" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L57" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="TAGBITS">
  <dt><pre><a href="spec.html#TAGBITS"><span class="Identifier">TAGBITS</span></a><span class="Other">:</span> <span class="Identifier">uint</span> <span class="Other">=</span> <span class="DecNumber">11</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L49" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L49" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="TAGMASK">
  <dt><pre><a href="spec.html#TAGMASK"><span class="Identifier">TAGMASK</span></a><span class="Other">:</span> <span class="Identifier">uint</span> <span class="Other">=</span> <span class="DecNumber">2047'u</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L51" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L51" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="UNINIT">
  <dt><pre><a href="spec.html#UNINIT"><span class="Identifier">UNINIT</span></a> <span class="Other">=</span> <span class="DecNumber">0'u</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L37" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L37" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="WRITER">
  <dt><pre><a href="spec.html#WRITER"><span class="Identifier">WRITER</span></a> <span class="Other">=</span> <span class="DecNumber">2'u</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L39" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L39" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

  </dl>
</div>
<div class="section" id="12">
  <h1><a class="toc-backref" href="#12">Procs</a></h1>
  <dl class="item">
    <div id="fetchAddHead-procs-all">
  <div id="fetchAddHead,ControlBlock,uint32">
  <dt><pre><span class="Keyword">proc</span> <a href="#fetchAddHead%2CControlBlock%2Cuint32"><span class="Identifier">fetchAddHead</span></a><span class="Other">(</span><span class="Identifier">ctrl</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="spec.html#ControlBlock"><span class="Identifier">ControlBlock</span></a><span class="Other">;</span> <span class="Identifier">v</span><span class="Other">:</span> <span class="Identifier">uint32</span> <span class="Other">=</span> <span class="DecNumber">1</span><span class="Other">)</span><span class="Other">:</span> <a href="spec.html#ControlMask"><span class="Identifier">ControlMask</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L87" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L87" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="fetchAddReclaim-procs-all">
  <div id="fetchAddReclaim,ControlBlock,uint8">
  <dt><pre><span class="Keyword">proc</span> <a href="#fetchAddReclaim%2CControlBlock%2Cuint8"><span class="Identifier">fetchAddReclaim</span></a><span class="Other">(</span><span class="Identifier">ctrl</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="spec.html#ControlBlock"><span class="Identifier">ControlBlock</span></a><span class="Other">;</span> <span class="Identifier">v</span><span class="Other">:</span> <span class="Identifier">uint8</span> <span class="Other">=</span> <span class="DecNumber">1</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">uint8</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L90" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L90" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="fetchAddTail-procs-all">
  <div id="fetchAddTail,ControlBlock,uint32">
  <dt><pre><span class="Keyword">proc</span> <a href="#fetchAddTail%2CControlBlock%2Cuint32"><span class="Identifier">fetchAddTail</span></a><span class="Other">(</span><span class="Identifier">ctrl</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="spec.html#ControlBlock"><span class="Identifier">ControlBlock</span></a><span class="Other">;</span> <span class="Identifier">v</span><span class="Other">:</span> <span class="Identifier">uint32</span> <span class="Other">=</span> <span class="DecNumber">1</span><span class="Other">)</span><span class="Other">:</span> <a href="spec.html#ControlMask"><span class="Identifier">ControlMask</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L84" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L84" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="getHigh-procs-all">
  <div id="getHigh,ControlMask">
  <dt><pre><span class="Keyword">proc</span> <a href="#getHigh%2CControlMask"><span class="Identifier">getHigh</span></a><span class="Other">(</span><span class="Identifier">mask</span><span class="Other">:</span> <a href="spec.html#ControlMask"><span class="Identifier">ControlMask</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">uint16</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L78" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L78" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="getLow-procs-all">
  <div id="getLow,ControlMask">
  <dt><pre><span class="Keyword">proc</span> <a href="#getLow%2CControlMask"><span class="Identifier">getLow</span></a><span class="Other">(</span><span class="Identifier">mask</span><span class="Other">:</span> <a href="spec.html#ControlMask"><span class="Identifier">ControlMask</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">uint16</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    <a href="https://github.com/nim-works/loony/tree/cc65bd51c2ddde2578959f57c933efde106cfeeb/loony/spec.nim#L81" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/nim-works/loony/edit/main/loony/spec.nim#L81" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>

  </dl>
</div>

  </div>
</div>

      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br>
        <small style="color: var(--hint);">Made with Nim. Generated: 2024-09-08 03:20:30 UTC</small>
      </div>
    </div>
  </div>
  
  <!-- Google fonts -->
  <link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
  <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>
</body>
</html>
